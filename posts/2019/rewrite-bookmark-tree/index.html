<!DOCTYPE html>
<html lang="zh-TW"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>重寫書籤樹 - 愛雅小舖</title>
    <base href="http://ayaya.tw/">
    
    
    
    
    <link rel="stylesheet" href="http://ayaya.tw/css/main.min.d1a35de747f32f38def9b85df0ddc1ae0d95ca476bb14c10d484610ddcc1acda.css">
</head>
<body><header>
    <nav class="breadcrumb">
        
        <a href="/">/Home</a>
        
        <a href="/posts">/Posts</a>
        
        <a href="/works">/Works</a>
        
        <a href="/donate">/Donate</a>
        
        <a href="/about">/About</a>
        
    </nav>
</header>
<div class="container">
<main id="single">
    <h1>重寫書籤樹</h1>
    <h2></h2>
    <section class="post-content">
        <p>在整理作品的時候, 無意間發現了<a href="https://www.reddit.com/r/chromeextensions/comments/8na7c0/cant_use_ayayas_bookmark_tree_anymore/">這篇文章</a>, 想不到 2018 了還有人在用, 甚至還有人幫忙編譯成新版 chrome 相容&hellip; 想說這其實也不是很難的東西, 我就來重做一下好了.</p>

<p>當年使用了 coffeescript, jquery 等, 新的版本使用 svelte 整個全部重寫了, 可以切成許多元件, 寫起來的感覺和當年真的差很多 (當時就是一大坨 jquery code 一起跑&hellip;).</p>

<p>雖然重寫了, 不過也盡量試著去相容舊設定. 期間也發現了 chrome 目前提供了 commands API, 可以更順暢的整合快速鍵設定. 不過快速鍵設定的地方藏得有夠隱密的, 一般人也不太容易發現吧&hellip;? 而且 chrome 不讓我在設定頁面添加<a href="chrome://extensions/shortcuts">擴充功能快速鍵設定</a>, 我只好把這個網址放在設定頁面中, 請使用者自行複製貼上.</p>

<p>先前實作熱鍵的方式是, 在每個頁面插入 content script, 然後去監聽按鍵事件, 這其實很糟糕, 因為以前有不少人問我, 為什麼我的擴充套件需要讀取所有頁面的資訊? <del>其實我還監控了你的所有鍵盤輸入我會到處說嗎?</del> 現在採用 commands API 後就不會再出現那麼可怕的訊息了吧?</p>

<p>改採用 svelte 後, 整個程式看起來整潔多了, 也好維護多了, 添加新功能也變得相當簡單, 不過目前我並沒有什麼特別的計畫.</p>

    </section>
</main>

        </div><footer>
    <ul class="lang-selector">
    
</ul>

    <span class="footer-text">Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a></span>
</footer>

<script src="http://ayaya.tw/js/highlight.pack.13389e4e093fc0b3466287ead64c1f9fc3007d7703813a413de3f046ea09a346.js" integrity="sha256-EzieTgk/wLNGYofq1kwfn8MAfXcDgTpBPePwRuoJo0Y="></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
